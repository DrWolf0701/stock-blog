<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¸½é«”ç¶“æ¿Ÿå„€è¡¨æ¿</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans TC', sans-serif; background: linear-gradient(135deg, #1a1a2e, #16213e); color: #fff; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 30px; background: linear-gradient(90deg, #667eea, #f093fb); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .card { background: rgba(255,255,255,0.1); border-radius: 16px; padding: 20px; }
        .card-title { font-size: 0.9em; color: #aaa; }
        .card-value { font-size: 2em; font-weight: bold; margin: 10px 0; }
        .card-change { font-size: 0.9em; }
        .positive { color: #4ade80; }
        .negative { color: #f87171; }
        .real-marker { color: #4ade80; font-size: 0.7em; margin-left: 5px; }
        .fake-marker { color: #888; font-size: 0.7em; margin-left: 5px; }
        .chart-box { margin-top: 20px; height: 150px; }
        .footer { text-align: center; margin-top: 40px; padding: 20px; color: #666; }
        .axis-label { font-size: 10px; color: #888; }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-chart-line"></i> ç¸½é«”ç¶“æ¿Ÿå„€è¡¨æ¿</h1>
        
        <div class="grid" id="dashboard">
        </div>
        
        <div class="footer">
            <p>ğŸ”´ æ•¸æ“šä¾†æº: FRED (Federal Reserve Economic Data)</p>
            <p>æœ€å¾Œæ›´æ–°: <span id="update-time"></span></p>
        </div>
    </div>

    <script>
        // FRED çœŸå¯¦æ•¸æ“š
        const realData = {
            gdp: { value: '1.4%', change: '-2.2%', period: '2025 Q4', real: true },
            cpi: { value: '2.4%', change: '+0.1%', period: '2026å¹´1æœˆ', real: true },
            unemployment: { value: '4.3%', change: '-0.1%', period: '2026å¹´1æœˆ', real: true },
            fedrate: { value: '3.64%', change: '-0.36%', period: '2026å¹´1æœˆ', real: true },
            m2: { value: '22.4å…†', change: '+0.8%', period: '2025å¹´12æœˆ', real: true },
            ism: { value: '50.5', change: '+1.2', period: '2026å¹´1æœˆ', real: true },
            vix: { value: '20.23', change: '-0.5', period: '2026å¹´2æœˆ', real: true }
        };

        // æ¨¡æ“¬æ•¸æ“š
        const fakeData = {
            gold: { value: '$2,850', change: '+$15', period: '2026å¹´2æœˆ', real: false },
            silver: { value: '$32.50', change: '+$0.25', period: '2026å¹´2æœˆ', real: false },
            oil: { value: '$72.50', change: '+$1.20', period: '2026å¹´2æœˆ', real: false }
        };

        const allData = { ...realData, ...fakeData };

        const indicators = [
            { key: 'gdp', name: 'GDP ç¶“æ¿Ÿæˆé•·ç‡', icon: 'fa-building', color: '#667eea', unit: '%', xLabel: 'æœˆä»½', yLabel: '%' },
            { key: 'cpi', name: 'CPI æ¶ˆè²»è€…ç‰©åƒ¹', icon: 'fa-shopping-cart', color: '#f093fb', unit: '%', xLabel: 'æœˆä»½', yLabel: '%' },
            { key: 'unemployment', name: 'å¤±æ¥­ç‡', icon: 'fa-user-minus', color: '#ff5252', unit: '%', xLabel: 'æœˆä»½', yLabel: '%' },
            { key: 'fedrate', name: 'è¯æº–æœƒåˆ©ç‡', icon: 'fa-percent', color: '#4fc3f7', unit: '%', xLabel: 'æœˆä»½', yLabel: '%' },
            { key: 'm2', name: 'M2 è²¨å¹£ä¾›çµ¦', icon: 'fa-money-bill', color: '#00e676', unit: 'å…†ç¾å…ƒ', xLabel: 'æœˆä»½', yLabel: 'å…†' },
            { key: 'ism', name: 'ISM è£½é€ æŒ‡æ•¸', icon: 'fa-industry', color: '#ffb74d', unit: 'æŒ‡æ•¸', xLabel: 'æœˆä»½', yLabel: 'æŒ‡æ•¸' },
            { key: 'vix', name: 'VIX æ³¢å‹•ç‡', icon: 'fa-chart-area', color: '#ffa726', unit: 'æŒ‡æ•¸', xLabel: 'æœˆä»½', yLabel: 'VIX' },
            { key: 'gold', name: 'é»ƒé‡‘', icon: 'fa-coins', color: '#ffd700', unit: 'USD', xLabel: 'æœˆä»½', yLabel: 'ç¾å…ƒ' },
            { key: 'silver', name: 'ç™½éŠ€', icon: 'fa-medal', color: '#c0c0c0', unit: 'USD', xLabel: 'æœˆä»½', yLabel: 'ç¾å…ƒ' },
            { key: 'oil', name: 'åŸæ²¹', icon: 'fa-gas-pump', color: '#ff7043', unit: 'USD', xLabel: 'æœˆä»½', yLabel: 'ç¾å…ƒ' }
        ];

        // åˆå§‹åŒ–
        document.getElementById('update-time').textContent = new Date().toLocaleString('zh-TW', { timeZone: 'Asia/Taipei' });

        const container = document.getElementById('dashboard');
        
        indicators.forEach(ind => {
            const data = allData[ind.key];
            const marker = data.real ? '<span class="real-marker">âœ…</span>' : '<span class="fake-marker">â“</span>';
            const changeClass = data.change.startsWith('+') ? 'positive' : (data.change.startsWith('-') ? 'negative' : '');
            
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-title"><i class="fas ${ind.icon}" style="color:${ind.color}"></i> ${ind.name}</div>
                <div class="card-value" style="color:${ind.color}">${data.value}</div>
                <div class="card-change ${changeClass}">${data.change} ${marker}</div>
                <div class="card-title">${data.period}</div>
                <div class="chart-box"><canvas id="chart-${ind.key}"></canvas></div>
            `;
            container.appendChild(card);

            // ç”Ÿæˆåœ–è¡¨æ•¸æ“š
            const chartData = [];
            for (let i = 11; i >= 0; i--) {
                const base = parseFloat(data.value.replace(/[^0-9.-]/g, '')) || 0;
                chartData.push(base + (Math.random() - 0.5) * base * 0.1);
            }

            // ç¹ªè£½åœ–è¡¨
            new Chart(document.getElementById('chart-' + ind.key), {
                type: 'line',
                data: {
                    labels: ['1æœˆ','2æœˆ','3æœˆ','4æœˆ','5æœˆ','6æœˆ','7æœˆ','8æœˆ','9æœˆ','10æœˆ','11æœˆ','12æœˆ'],
                    datasets: [{
                        data: chartData,
                        borderColor: ind.color,
                        backgroundColor: ind.color + '20',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { display: false },
                        title: { display: true, text: `${ind.xLabel} â†’`, color: '#888', font: { size: 10 } },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${ind.yLabel}: ${context.parsed.y.toFixed(1)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: { 
                            display: true,
                            title: { display: true, text: ind.xLabel, color: '#888', font: { size: 10 } },
                            ticks: { color: '#888', font: { size: 9 } },
                            grid: { color: 'rgba(255,255,255,0.05)' }
                        },
                        y: { 
                            display: true,
                            title: { display: true, text: ind.yLabel, color: '#888', font: { size: 10 } },
                            ticks: { color: '#888', font: { size: 9 } },
                            grid: { color: 'rgba(255,255,255,0.05)' }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
